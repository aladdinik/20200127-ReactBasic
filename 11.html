<!DOCTYPE html>
<html lang="en"> <!-- 11 Updating/modifying/mutating state object / making a copy of iKpreviousStateP / with the use of props callback argument / .setState() -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
<!--    <link href="zIK/02css/aReset.css" rel="stylesheet" type="text/css">-->
<!--    <link href="zIK/02css/normalize.css" rel="stylesheet" type="text/css">-->
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mediaelement@4.2.14/build/mediaelementplayer.min.css" />
    <link href="zIK/02css/oikGrid.css" rel="stylesheet" type="text/css">
<!--    <link href="zIK/02css/oikFlex.css" rel="stylesheet" type="text/css">-->
    <title>11 Updating/modifying/mutating state object / making a copy of iKpreviousStateP / with the use of props callback argument / .setState()</title>
<style>
/* + + + + + + + + + + + STYLE ---------------------------*/
/*---------------------- /style //////////////////////////*/
</style>
</head>
<body>
<main role="main">
<!-- <noscript> is for users who have javascript turned off. instructions on how to enable javascript. ik you can modify the inline style how you want and beware of top nav bar-->
    <noscript style="border: red 2px solid; font-weight: bolder; padding-bottom: 4px;">
     For full functionality of this site it is necessary to enable JavaScript to its normal settings.
     Here are the <a href="https://www.enable-javascript.com/" target="_blank">
     instructions how to enable JavaScript in your web browser</a>.
    </noscript>
<!--+ + + + + + + + + + + MAIN --------------------------->


<div id='iKdivContainer'>iK will be overwritten by react</div>


<!---------------------- /main /////////////////////////-->
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="https://unpkg.com/@popperjs/core@2.0.0-rc.1"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/mediaelement@4.2.14/build/mediaelement-and-player.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js" integrity="sha256-G7A4JrJjJlFqP0yamznwPjAApIKPkadeHfyIwiaa9e0=" crossorigin="anonymous"></script>
<script src="zIK/HS07mockServerEventsource/mockevent.js"></script>
<script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<!--<script src="./node_modules/sinon/pkg/sinon.js"></script>-->
<script src="zIK/03JS/kiK.js" type="text/javascript"></script>
<script type="text/babel">
/* + + + + + + + + + + + SCRIPT --------------------------*/
'use strict';


/*Updating/modifying/mutating state object / making a copy of iKpreviousStateP / with the use of props callback argument / .setState() */
const iKarrayObject1 = [  /*1+*/
	{
		iKname: "iKnameValue1",
		iKoffice: "iKofficeValue1",
		id: 1
	},
	{
		iKname: "iKnameValue2",
		iKoffice: "iKofficeValue2",
		id: 2
	}
]; /*END iKarrayObject1 */


class IkClassComponent extends React.Component {
	state = {  /*2+*/
		iKproperty1: this.props.iKarg1[0].iKname, /*currently "iKnameValue1" */
		iKproperty2: this.props.iKarg1[0].iKoffice /*currently "iKofficeValue1" */
	}; /*3+*/

	iKmethod1 = () => {
		this.setState( (iKpreviousStateP, iKpropsArgP) => {	/*4+*/
			const iKcopyProperty2PreviousStateValue = iKpreviousStateP.iKproperty2;  /*5+*/

			return {  /*6+*/
				iKproperty1: iKpropsArgP.iKarg1[1].iKname, /*OP "iKnameValue2" */
				iKproperty2: iKcopyProperty2PreviousStateValue.toUpperCase() /*OP "IKOFFICEVALUE2" */
			}; /*7+*/
		});
	};

	render() {
		return (
			<div onClick={this.iKmethod1}>
				<h1> {this.state.iKproperty1} </h1>
				<p> {this.state.iKproperty2} </p>
			</div>
		);
	};
}; /*END IkClassComponent */

ReactDOM.render(
	<IkClassComponent iKarg1={iKarrayObject1} />,
	iKdivContainer
);

/*1+ just some mock data I will demo with.
2+ iK notice I am setting 'state' without the constructor method. There might not be any difference compared to constructor(){} 
3+ iK you can name or add as many property you need in state.
3+ the argument is from the props object argument given in the callback component.
4+ VIP you must use this.setState() method when you want to modify the state properties.
	+\ VIP you should not modify state object by normal reassignment, you must use .setState() as it could effect performance.
		+\ this.state.iKproperty1 = "iKreassignment1" =eg. this will not work and best not work anywhere.
4+ VIP use anonymous function as argument within .setState() to change state, as the resulted will take immediate effect.
	+\ if you do not use the anonymous function than any change result of the state could behave asynchronously which can delay things.
	+\ BIM anonymous function is optional, but it is strongly recommended to use, especially when you need to modify using the iKpreviousStateP value.
	+\ BIM iKpreviousStateP optional parameter is the same as this.state property.
		+\ iKVIP but you should never mutate iKpreviousStateP , make a copy of iKpreviousStateP and redeclare the new value with the copied value.
	+\ BIM iKpropsArgP optional parameter is the same as this.props but the updated version if any. Use this when possible.
4+ .setState can use either function declaration or arrow function.
5+ iKVIP make a copy of the previous state value of the properties you plan to modify/mutate.
	+\ BIM so if you plan on using iKpreviousStateP, than make a copy of it.
		+\ iKBIM because base on what I read on treehouse/comments, you will still be mutating the this.state.iKproperties directly if you modify using iKpreviousStateP directly. so best to make copy version and assign the copy version to the state property when you finish.
			+\ doing so will prevent disruptions in the future, especially for large projects.
6+ VIP remember you have to return an object containing the properties you would like to modify within state .
	+\ alternatively when using arrow function, you can omit the 'return' keyword, but you must include parenthesis to wrap the state object.
7+ You can choose as many or little properties you would like to modify within the state object. */


 /*OP */
/* **** d */
/*--------------------- /script /////////////////////////*/ /* 
	IK.printD( html );
	IK.everyStyles( DOMelement );
	IK.ascii("a", "b");
	IK.patternIndexNumber( iKarray, searchThisValue );
	IK.cssSupport("cssProperty", "cssValue");
	IK.listAttributes( DOMnode );
	IK.serialize( formDOMelement );
	IK.serializeObject( iKobject );
	IK.cloneObject( iKobject );
	IK.fetchJson( apiUrlP );

const iKvar1 = "iKV1";
const iKarray1 = ["iKaV1", "iKaV2", "iKaV3"];
const iKobject1 = {iKoProperty1: "iKoV1", iKoProperty2: "iKoV2", iKoProperty3: "iKoV3"};
const iKmap1 = new Map([ ["iKmapProp1", "iKmapV1"], ["iKmapProp2", "iKmapV2"], ["iKmapProp3", "iKmapV3"] ]);
const iKset1 = new Set([ "iKsetV1", "iKsetV2", "iKsetV3" ]);
const iKconsFunction1 = function ( {iKpar1, iKpar2, iKpar3} = {} ) {
	this.iKconsFuncProp1 = iKpar1 || "iKdefaultPar1";
	this.iKconsFuncProp2 = iKpar2 || "iKdefaultPar2";
	this.iKconsFuncProp3 = iKpar3 || "iKdefaultPar3";
};
	const iKconsObject1 = new iKconsFunction1();
const iKasyncFunction1 = async () => {
	try {
		const iKpromise1 = await new Promise(function(resolve, reject) {
		});
		return iKpromise1;
	} catch(iKcatchError1) {
		throw new Error("iKerror >>> ", iKcatchError1);
	};
};
	iKasyncFunction1();	*/
</script>
</main>
</body>
</html>